〇レイヤー種類の変更
bitmap→terrain
geojson→コラム，グリッド，ヘキサゴン，ヒートマップ

〇shapeファイル
・shapeファイルは.dataで読込できるが，propertyがない，layerControlがエラー
・二つのファイルを同時に読み込む必要あり
・同一フォルダから関連ファイルを読みに行こうとするがhttp:.../aaa.dbfを読もうとする

〇カラム
・グリッドは狭めたときの挙動が悪い，右カラムの調整が難しい
ポップアップはabsoluteにすれば重ねさせることはできるが右下が合わない
・フレックスは右上と下の合わせ方が難しい。divコンテイナーの下がクリッカブルにならない
・absoluteは右上と左下の合わせ方が難しい

〇deckglコンポーネントを動かすには
position absoluteのため，親に次を設定すればよい
 .test {
            position: relative;
            overflow: hidden !important;
            height: 50%;
          }
〇minimapの配置
・div calc IDセレクター等試してもコントロールできず

〇terrainについて
・loaders→consoleで試しても読み込まれていないよう
・terrainLayerファイルをコピー→../を@にするとインポートエラー
・yarn add deckgl-gsi-terrain-layer →インポートエラー


〇難所
・demデータの利用→ステレオグラム
・terrainのminzoom問題
・カスタムレイヤー
・合成
・テキストのアウトライン
・importの様々な拡張子 shape csv（ポイントのみ）
・標高断面図（bbox利用）
・塗分けマップ（都道府県名，市町村名オプション，数字，インポート後のオプション 線形・対数，基準値，dataTransform

〇優先度高
・demデータの利用
・histryが再アクセスで空
・データの充実，メタ情報
・共有用url
・importのヘルパーテキスト
・赤色立体地図の権利処理
・地理院のクリックしても無反応データd.src===""?
・geojsonbufの利用
・リンク集　nebula等ケプラー
nebula.gl（英語） 右上のgeojson editer「作図，geojson形式での保存
距離
面積
簡易作図
・点
・線
・面
・面ドラッグ
・楕円
・四角形

〇ソース整理関係
・blurの再検討
・タイプスクリプト
・popoverstyleの削除


〇優先度中
・layerPropsのisTileでimportするとローカルではくるくるが止まらないことがある
・緯度経度ラインレイヤー
・二画面時にツリー開閉でかくつく　overflowy hidden?
・ホバーで凡例を表示　デフォルトはオフ
・ツールチップの位置
・headerの垂直のずれ（* borderで分かる）
・gsiベクターを一種類ずつ掲載
・ラベルドgeojson
・ミニマップ
・material ui5
・geoloniaの逆ジオコーディングとフリガナ

〇優先度低
・下メニュー
・地価マップの見やすい表示 色，大きさ，高さ，形，太さ
・ラベル表示項目のカスタマイズ→新規テキストレイヤー
・データサマリー，グラフの表示
・e-stat連携
・RESAS連携
・アイソクローンマップ
・くるくる
・ジオコーディング，逆ジオコーディング
・印刷
・作図・計測
・popoverの画像が読み込まれた後，画面外になる
・表示範囲の明示（ズームレベルとエリア）
・ストレージキャッシュと履歴
・データ検索20210905 expandの設定が難しい
・スケールの表示
・現在地を表示
・火山基本図データ（基図）を合成するとデータの無い場所が黒くなる
・3Dかつ合成にすると外周部が黒くなる


〇没
・ファイルダウンロードボタン
・フェッチ・キャッシュ
・entries以外のデータ
・dem誇張はやめる？
・bottomBar 表示したい情報がない
・タイルではないbitmapレイヤーのインポート（boundary設定が必要）
・featureのクリックアウェイリスナー（遅い，返ってうざい。スクロール位置が回復しないかも）
・閉じるボタンを耳化（slideの外では動ない，slideの中では消える）
・スクロールバーの透明化（tetshadowを使うHackなどしかない）
・メニューを閉じるボタンを耳にするのはかなり難航（slide内にボタンを配置するとボタンも消える）

〇その他の地図
stamen
carto
オープンレイルマップ
safecast
openaip
here
google
mielune
nasa 夜間光

〇テキストレイヤー関係
・gsiterrainでオフセットをマイナス1000にするとgeojsonの文字が隠れなかった
・テキストレイヤーが他のレイヤと重なってしまう

〇レイヤーメタ情報
<p>凡例</p>
<p>説明</p>
<p>出典・URL</p>
<p>改変</p>
<p>権利</p>

〇汎用メニューボタン
/ツール
・視点をリセット
・最近閉じたデータ
・外部ＵＲＬのインポート
・メニューを隠す
/情報


〇色
人口がx以上の時〇色にする
人口が最大最小を基準に色→絶対，対数
0 100を中間値にする
カテゴリーで色分け
透明　ランダム　一色
条件で塗分け

〇地理院特有
〇共通
・styleurl 適用されない ベクトル実験等
・entriesではなくsrc 適用されない
・toggleall
・表示zoomレベルが地理院情報とずれている

〇レイヤ
・地磁気の基準点　凡例どおりに画像アイコンが表示されない。
・単写真　地点情報に「写真を表示」という専用サイトへのリンクが表示されない
・湖沼図のレイヤーインフォ
・火山系レイヤーインフォ　セレクトボックス
・ベクトルタイル提供実験　注記，居住地名は文字ではなくアイコンが表示されてしまう
・ベクトルタイル提供実験のfeatureをクリックで落ちる
・現在観測地区→重力→オブジェクト→謎のtagsプロパティがある
・南極の地理空間情報が黒い　→表示されない
'https://cyberjapandata.gsi.go.jp/xyz/lv01_plg/14/{x}/{y}.geojson'　住所データ？
・火山地形分類データのクリックインフォ
・自分で作る陰影さいだん図
・地形分類ベクトルタイルが色分けされない，クリックインフォがない
https://maps.gsi.go.jp/layers_txt/layers_tochibunrui.txt

〇名称
・ウェブマップ
・マップ
・ＧＩＳ
・固有名詞
・地理院地図
・ひなたＧＩＳ
・ＲＥＳＡＳ
・TERRIA
・ケプラー
・ブランド名
・プラトー
・色々な地図。

〇staticmapをやめた理由
mapbox登録が必要
有料
合成が効かない
ソースの複雑化
スケールコントロールは代用可能
maplibreを入れるにはウェブパックの設定が必要

〇やめたこと
・各マップのリアルタイムプレビュー
・全て削除ボタン
・理想ズーム（離島の影響大）
・一人称視点
・詳細座標の表示（ヘリポイント，３単語等）
・照明エフェクト
・フィルター
・レイヤー種類変化 ケプラーの再発明
・2画面　比較，分割
・プレビュー
・クリック地点にアイコンを表示→作図で代用可
〇道路などのカテゴリごとのオンオフ
道路
構造物
線路
湖沼
行政界　実線
海域
〇ミニマップ
・ソースコードの複雑化
・配置がxyしかない
・スマホで縦横変換時に，位置が変
・オンオフ機能
・回転禁止
・メインマップが回転したときの範囲表示

〇メモ
・高さがあるレイヤーだと，下の面が透けない→高さを０にするとOK
・「行政界を表示したときは，ベースマップを非表示にすると見やすくなることがあります」
・マップを非表示にするためにmap.styleをnullにしても無視されるだけで，現在の表示が継続
・turf.simplifyは隣接ポリゴンと交差するようになる。散在データであれば使いやすいか。
・mapshaperで標準設定でシンプリファイするとgeometryにnullが出て，deckglでエラーになるが，prevent removalでnullは出ない
・国土数値情報の人口はgeojson変換できなかった。旧統一フォーマットであればok
・e-statのメッシュ人口はcsvで，地点データは別ファイル
・turfをインストールするときは，yarn add @turf/turf
・bodyタグがないとantdが有効にならないよう
・getFilterValueはsetStateで変更してもアップデートされない
・affixは設定値より初期位置が下だと効かない
・tabsはstickyにできなかったことと，コンテンツのサイズ（特にheight）の取り回しが難しい→解決
・ベクター標準地図ではハードライトがよく見える
・stickyのカテゴリ１が複数行の時，カテゴリ２が無いときが未解決。カテゴリ２をクリックすると，少し埋まる。そもそもそんなに凝る必要ない
注意 geojson拡張子は，一部の関数で正常に動作しないことがある（mapやturf.simplify）
これは，webpackの設定により，geojsonは，jsonローダーではなく，ファイルローダーが使用されるためのよう。
これを回避するには，webpackの設定を変更するかgeojsonをjsonにリネームするのが早い
参考 https://stackoverflow.com/questions/60470752/importing-geojson-file-to-react-leaflet



〇地価マップとアイディア
・路線価へのリンク
・基準地価と公示地価の表示が選択できる
・色凡例が豊富
・色分けは，価格帯・変動率・公示or基準
・地点をクリックで，詳細→広域図，掲示変化，グラフ
・用途地域で表示・非表示を選択
・textlayerに日本語表示ができない
・家賃マップ
・地震マップ可視化　→　動画
・地震速報マップ